/**
* jQuery asTooltip v0.4.2
* https://github.com/amazingSurge/jquery-asTooltip
*
* Copyright (c) amazingSurge
* Released under the LGPL-3.0 license
*/
!function(t,e){if("function"==typeof define&&define.amd)define(["jquery"],e);else if("undefined"!=typeof exports)e(require("jquery"));else{var i={exports:{}};e(t.jQuery),t.jqueryAsTooltipEs=i.exports}}(this,function(t){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=e(t),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a={namespace:"asTooltip",skin:"",closeBtn:!1,position:{value:"right middle",target:!1,container:!1,auto:!1,adjust:{mouse:!0,resize:!0,scroll:!0}},show:{target:!1,event:"mouseenter",delay:0},hide:{target:!1,event:"mouseleave",delay:0,container:!1,inactive:!1},content:null,contentAttr:"title",ajax:!1,tpl:'<div class="{{namespace}}"><div class="{{namespace}}-inner"><div class="{{namespace}}-loading"></div><div class="{{namespace}}-content"></div></div></div>',onInit:null,onShow:null,onHide:null,onFocus:null,onBlur:null},r="asTooltip",l=(0,n.default)(window),u=[],h=function(t,e,i,o){var s=void 0,a=void 0,r=void 0,l=void 0,u=void 0,h=(0,n.default)(t),d=0,c=0;s=o?t:h.offset(),a=o?0:h.outerWidth(),r=o?0:h.outerHeight(),l=e.outerWidth(),u=e.outerHeight();for(var f=0;f<i.length;f++)switch(i[f]){case"left":d=0===f?s.left-l:s.left;break;case"middle":switch(i[0]){case"left":case"right":c=s.top+(r-u)/2;break;case"top":case"bottom":d=s.left+(a-l)/2}break;case"right":d=0===f?s.left+a:s.left+a-l;break;case"top":c=0===f?s.top-u:s.top;break;case"bottom":c=0===f?s.top+r:s.top+r-u}return{left:Math.round(d),top:Math.round(c)}},d=function(t,e,i){var o=(0,n.default)(t),s=o.offset(),a=i.offset(),r="BODY"===i[0].tagName?l.scrollLeft():i.scrollLeft(),u="BODY"===i[0].tagName?l.scrollTop():i.scrollTop(),h="BODY"===i[0].tagName?s:{top:s.top-a.top,left:s.left-a.left},d=o.outerWidth(),c=o.outerHeight(),f=e.outerWidth(),p=e.outerHeight(),g="BODY"===i[0].tagName?l.innerWidth():i.outerWidth(),v="BODY"===i[0].tagName?l.innerHeight():i.outerHeight(),m=[];return p>h.top-u&&m.push("top"),p+c+h.top>u+v&&m.push("bottom"),f>h.left-r&&m.push("left"),f+d+h.left>r+g&&m.push("right"),m},c=function(){function t(e,o){i(this,t);var s=(0,n.default)(document.body),r=e[0]===document?s:e,l=void 0,u=void 0;u=this.parseTargetData((0,n.default)(r).data()),l=this.options=n.default.extend(!0,{},a,o,u),l.position.container=l.position.container?(0,n.default)(l.position.container):s,l.position.target||(l.position.target=r),l.show.target||(l.show.target=r),l.hide.target||(l.hide.target=r),this.$element=(0,n.default)(r),this.namespace=this.options.namespace,l.content=this.getContent(),this.enabled=!0,this.isOpen=!1,this.loadFlag=!1,this.moveFlag=!1,this.showTimer=null,this.hideTimer=null,this.classes={show:this.namespace+"_isShow",isLoading:this.namespace+"_isLoading",active:this.namespace+"_active",enabled:this.namespace+"_enabled"},this.trigger("init"),this.init()}return s(t,[{key:"init",value:function(){var t=this,e=this.options,i=e.show.target,o=e.hide.target,s=e.show.event,a=e.hide.event;this.$tip=(0,n.default)(e.tpl.replace(/{{namespace}}/g,this.namespace)),this.$loading=(0,n.default)("."+this.namespace+"-loading",this.$tip),this.$content=(0,n.default)("."+this.namespace+"-content",this.$tip),i===o&&s===a?this._bind(i,s,function(e){t.isOpen?t.hideMethod(e):t.showMethod(e)}):(this._bind(i,s,function(e){t.showMethod(e)}),this._bind(o,a,function(e){t.hideMethod(e)})),"BODY"===e.position.container[0].tagName&&(e.position.adjust.resize&&this._bind(l,"resize",function(){t.isOpen&&t.setPosition()}),e.position.adjust.scroll&&this._bind(l,"scroll",function(){t.isOpen&&t.setPosition()}))}},{key:"trigger",value:function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];var o=[this].concat(i);this.$element.trigger(r+"::"+t,o),t=t.replace(/\b\w+\b/g,function(t){return t.substring(0,1).toUpperCase()+t.substring(1)});var s="on"+t;"function"==typeof this.options[s]&&this.options[s].apply(this,i)}},{key:"_bind",value:function(t,e,i,o){if(t&&i&&e.length){var s=o?e:e+"."+o;return(0,n.default)(t).on(s,n.default.proxy(i,this)),this}}},{key:"_unbind",value:function(t,e,i){return t&&(0,n.default)(t).unbind(i?e:e+"."+i),this}},{key:"parseTargetData",value:function(t){var e={};return n.default.each(t,function(t,i){var n=t.split("_"),o=n.length,s=e;if(1===o)e[n[0]]=i;else for(var a=0;a<o;a++)0===a?void 0===e[n[a]]&&(e[n[a]]={}):a===o-1?s[n[a]]=i:void 0===s[n[a]]&&(s[n[a]]={}),s=e[n[a]]}),e}},{key:"parseTpl",value:function(t){return t.replace("{{namespace}}",self.namespace)}},{key:"getDelegateOptions",value:function(){var t={};return this._options&&n.default.each(this._options,function(e,i){a[e]!==i&&(t[e]=i)}),t}},{key:"showMethod",value:function(t){var e=t instanceof this.constructor?t:(0,n.default)(t.currentTarget).data(r),i=this.options;if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),(0,n.default)(t.currentTarget).data(r,e)),i.ajax||e.options.content){if(e.isOpen?clearTimeout(e.hideTimer):(clearTimeout(e.showTimer),e.showTimer=setTimeout(function(){n.default.proxy(e.show,e)()},i.show.delay)),"mouse"===i.position.target){if(this.moveFlag)return;this.isFirst=!0,(0,n.default)(document).on("mousemove."+r,n.default.proxy(this.move,e)),this.moveFlag=!0}"click"===i.hide.event&&i.hide.container&&this._bind(i.hide.container,i.hide.event,function(t){var i=(0,n.default)(t.target);0===i.closest(e.$el).length&&0===i.closest(e.$tip).length&&e.isOpen&&n.default.proxy(e.hide,e)()})}}},{key:"hideMethod",value:function(t){var e=t instanceof this.constructor?t:(0,n.default)(t.currentTarget).data(r),i=this.options,o=!1;if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),(0,n.default)(t.currentTarget).data(r,e)),i.ajax||e.options.content)return e.isOpen?void("mouse"===i.position.target&&this.moveFlag||("click"===i.hide.event&&i.hide.container&&this._unbind(i.hide.container,i.hide.event),i.hide.inactive&&(this._bind(e.$tip,"mouseenter."+r,function(){o=!0}),this._bind(e.$tip,"mouseleave."+r,function(){o=!1,clearTimeout(e.hideTimer),e.hideTimer=setTimeout(function(){n.default.proxy(e.hide,e)()},e.options.hide.delay),e._unbind(e.$tip,"mouseenter."+r+" mouseleave."+r)})),clearTimeout(e.hideTimer),e.hideTimer=setTimeout(function(){o||n.default.proxy(e.hide,e)()},i.hide.delay))):void clearTimeout(e.showTimer)}},{key:"move",value:function(t){var e=Math.round(t.pageX),i=Math.round(t.pageY),o=this.$element.offset().top,s=this.$element.offset().left,a=this.$element.outerWidth(),l=this.$element.outerHeight();e>=s&&e<=s+a&&i>=o&&i<=o+l?this.options.position.adjust.mouse?this.setPosition(t):this.isFirst&&(this.setPosition(t),this.isFirst=!1):((0,n.default)(document).off("mousemove."+r),this.moveFlag=!1,this.hideMethod(this.$element.data(r)))}},{key:"getContent",value:function(){return this.$element.attr(this.options.contentAttr)||("function"==typeof this.options.content?this.options.content():this.options.content)}},{key:"setPosition",value:function(t){var e=this,i=void 0,s=void 0,a=void 0,r=this.options,l=this.$el,u=r.position.container,c=!1,f=!1;a=u.css("position");var p=r.position.value.split(" ");"mouse"===r.position.target&&t?(l={top:Math.round(t.pageY),left:Math.round(t.pageX)},f=!0):"object"===o(r.position.target)&&(l=r.position.target),r.position.auto&&"mouse"!==r.position.target&&!function(){var t=d(l,e.$tip,u),i=["top","right","bottom","left"];n.default.each(t,function(t,e){i=n.default.map(i,function(t){return t!==e?t:null})}),i.length>0&&(p[0]=i[0])}(),this.$tip.addClass(this.namespace+"-element-"+p[0]).addClass(this.namespace+"-arrow-"+p[1]),i=h(l,this.$tip,p,f),"static"!==a&&(s=u.offset(),c=!0),this.$tip.css({top:i.top+(c?-s.top:0),left:i.left+(c?-s.left:0)})}},{key:"loadToggle",value:function(){var t=this.loadFlag;t?(this.$tip.removeClass(this.namespace+"_isLoading"),this.loadFlag=!1):(this.$tip.addClass(this.namespace+"_isLoading"),this.loadFlag=!0)}},{key:"statusToggle",value:function(t){t?this.$element.removeClass(this.classes.active):this.$element.addClass(this.classes.active)}},{key:"rePosition",value:function(t){return this.setPosition(t),this}},{key:"setContent",value:function(){var t=this.options;t.ajax&&this.loadToggle(),this.$content.html(t.content),this.$tip.appendTo(t.position.container),"mouse"!==t.position.target&&this.setPosition()}},{key:"show",value:function(){var t=this.options;if(this.enabled)return t.skin&&this.$tip.addClass(this.namespace+"_"+t.skin),t.ajax&&t.ajax(this),this.setContent(this.isOpen),this.statusToggle(this.isOpen),this.isOpen=!0,this.trigger("show"),this}},{key:"hide",value:function(){return this.options.ajax&&(this.$tip.removeClass(this.namespace+"_isLoading"),this.loadFlag=!1),this.$tip.off("."+r),this.statusToggle(this.isOpen),this.$tip.remove(),this.isOpen=!1,this.trigger("hide"),this}},{key:"enable",value:function(){return this.enabled=!0,this.$element.addClass(this.classes.enabled),this.trigger("enable"),this}},{key:"disable",value:function(){return this.enabled=!1,this.$element.removeClass(this.classes.enabled),this.trigger("disable"),this}},{key:"destroy",value:function(){return this.$element.off("."+r),this.trigger("destroy"),this}}],[{key:"closeAll",value:function(){u.map(function(t){t.isOpen&&t.hide()})}},{key:"setDefaults",value:function(t){n.default.isPlainObject(t)&&n.default.extend(!0,a,t)}}]),t}(),f={version:"0.4.2"},p="asTooltip",g=n.default.fn.asTooltip,v=function(t){for(var e=this,i=arguments.length,s=Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];if("string"==typeof t){var r=function(){var i=t;if(/^_/.test(i))return{v:!1};if(!/^(get)/.test(i))return{v:e.each(function(){var t=n.default.data(this,p);t&&"function"==typeof t[i]&&t[i].apply(t,s)})};var o=e.first().data(p);return o&&"function"==typeof o[i]?{v:o[i].apply(o,s)}:void 0}();if("object"===("undefined"==typeof r?"undefined":o(r)))return r.v}return this.each(function(){(0,n.default)(this).data(p)||(0,n.default)(this).data(p,new c(this,t))})};n.default.fn.asTooltip=v,n.default.asTooltip=n.default.extend({setDefaults:c.setDefaults,closeAll:c.closeAll,noConflict:function(){return n.default.fn.asTooltip=g,v}},f)});